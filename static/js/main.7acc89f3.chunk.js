(this.webpackJsonpfko=this.webpackJsonpfko||[]).push([[0],{132:function(n,e,t){n.exports=t.p+"static/media/logo.fc566f5e.png"},136:function(n,e,t){n.exports=t(213)},213:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(71),c=t.n(i),u=t(7),o=t.n(u),l=t(8),s=t(13),d=t(22),m=t(12),f=t(4),p=function(){return a.a.createElement("div",null,"admin page")},b=t(114),h=t(47),v=t(125),g=t(97),x=t.n(g),j=(t(144),t(145),function(){return(new Date).setHours(0,0,0,0)}),w=function(n){return new Date(n).setHours(0,0,0,0)},E=function(n){var e=new Date(n),t=e.getDate(),r=e.getMonth()+1,a=e.getFullYear();return"".concat(t,"-").concat(r,"-").concat(a)},O="Panel",y="Dost\u0119pne miejsca: ",k="Zapisani na",S="Nie masz konta?",z="Email",C="Strona g\u0142\xf3wna",P="Wypisz si\u0119",T="Zaloguj",A="Moje rezerwacje",U="Nikt si\u0119 jeszcze nie zapisa\u0142",B="Has\u0142o",F="Zarejestruj si\u0119.",D="Zarejestruj",N="Powt\xf3rz has\u0142o",L="Rezerwuj",W="Wybierz dzie\u0144",M="Wybierz trening",I="Zaloguj si\u0119, \u017ceby zarezerwowa\u0107 miejsce",V="Zaloguj si\u0119",q="Wyloguj",R="Nazwa u\u017cytkownika",Z="Nie masz zarezerwowanych trening\xf3w",H="Jeste\u015b ju\u017c zapisany/a na ten trening",J="Nie uda\u0142o si\u0119 zapisa\u0107 na ten trening",X="Nie ma ju\u017c wolnych miejsc na tym treningu",K="Wybierz trening",Q="Co\u015b posz\u0142o nie tak",Y="Zapisano na trening",_="Wypisano z treningu",G={apiKey:"AIzaSyDq3S8XrmtlpDdvOxFF8EAP696qWlZ_qzQ",authDomain:"fight-kompany.firebaseapp.com",databaseURL:"https://fight-kompany.firebaseio.com",projectId:"fight-kompany",storageBucket:"fight-kompany.appspot.com",messagingSenderId:"1076372164072"},$=a.a.createContext(null),nn=a.a.createContext(null),en=t(129),tn=t.n(en),rn=(t(147),t(5));function an(){var n=Object(rn.a)(["\n  background: transparent;\n  border: 1px solid ",";\n  border-radius: 3px;\n  padding: 5px 10px;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n    border-width: 2px;\n    padding: 4px 9px;\n  }\n\n  ","\n"]);return an=function(){return n},n}function cn(){var n=Object(rn.a)(["\n  background: ",";\n  color: ",";\n"]);return cn=function(){return n},n}var un=Object(f.c)(cn(),(function(n){return n.theme.secondary}),(function(n){return n.theme.white})),on=f.d.button(an(),(function(n){return n.theme.secondary}),(function(n){return n.isActive?un:null}));function ln(){var n=Object(rn.a)(["\n  font-size: ",";\n  font-family: ",";\n  margin-bottom: 10px;\n"]);return ln=function(){return n},n}var sn=f.d.h2(ln(),(function(n){return n.theme.fontL}),(function(n){return n.theme.fontFamilySecondary})),dn=function(n){var e=n.children,t=n.styles;return a.a.createElement(sn,{style:t},e)};function mn(){var n=Object(rn.a)(["\n  margin-bottom: 15px;\n"]);return mn=function(){return n},n}var fn=f.d.div(mn()),pn=function(n){var e=n.onClick,t=n.value;return a.a.createElement(on,{onClick:e},t)},bn=function(n){var e,t=n.headerLabel,r=n.onChange,i=n.selected;return a.a.createElement(fn,null,a.a.createElement(dn,null,t),a.a.createElement(tn.a,{dateFormat:"dd/MM/yyyy",selected:i,onChange:function(n){return r(w(n))},minDate:j(),maxDate:(e=5,new Date(Date.now()+24*e*60*60*1e3)),customInput:a.a.createElement(pn,null)}))},hn=function(n){var e=n.onClick,t=n.isActive,r=void 0!==t&&t,i=n.training;return a.a.createElement(on,{isActive:r,value:i.value,onClick:e},i.name)};function vn(){var n=Object(rn.a)(["\n  margin-right: 10px;\n  margin-top: 10px;\n\n  &:first-child {\n    margin-top: 0;\n  }\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  @media (min-width: ",") {\n    margin-top: 0;\n  }\n"]);return vn=function(){return n},n}function gn(){var n=Object(rn.a)(["\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"]);return gn=function(){return n},n}function xn(){var n=Object(rn.a)(["\n  margin-bottom: 15px;\n"]);return xn=function(){return n},n}var jn=f.d.div(xn()),wn=f.d.ul(gn(),(function(n){return n.theme.mobileBP})),En=f.d.li(vn(),(function(n){return n.theme.mobileBP})),On=function(n){var e=n.headerLabel,t=n.handleTrainingChange,r=n.selectedTraining,i=n.trainings;return a.a.createElement(jn,null,a.a.createElement(dn,null,e),a.a.createElement(wn,null,i.map((function(n){return a.a.createElement(En,{key:n.name},a.a.createElement(hn,{training:n,onClick:t,isActive:r.value===n.value}))}))))};function yn(){var n=Object(rn.a)(["\n  background-color: ",";\n  color: ",";\n  border: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  cursor: pointer;\n\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n"]);return yn=function(){return n},n}var kn=f.d.button(yn(),(function(n){return n.theme.primary}),(function(n){return n.theme.white}),(function(n){return n.theme.white}),(function(n){return n.theme.primary}),(function(n){return n.theme.primary})),Sn=function(n){var e=n.label,t=n.onClick;return a.a.createElement(kn,{onClick:t},e)};function zn(){var n=Object(rn.a)(["\n  margin-bottom: 10px;\n"]);return zn=function(){return n},n}var Cn=f.d.div(zn()),Pn=function(n){var e=n.label,t=n.value;return a.a.createElement(Cn,null,a.a.createElement("span",null,e),a.a.createElement("span",null,t))};function Tn(){var n=Object(rn.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n  color: ",";\n  padding: 5px;\n  margin-left: 10px;\n\n  cursor: pointer;\n"]);return Tn=function(){return n},n}function An(){var n=Object(rn.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]);return An=function(){return n},n}var Un=f.d.div(An()),Bn=f.d.button(Tn(),(function(n){return n.theme.white}),(function(n){return n.theme.secondary}),(function(n){return n.theme.secondary})),Fn=function(n){var e=n.handleSignOutFromTraining,t=n.user,i=Object(r.useContext)(nn),c=i?i.email:"";return a.a.createElement(Un,null,t.userName," ",t.email===c?a.a.createElement(Bn,{onClick:e},P):null)};function Dn(){var n=Object(rn.a)(["\n  margin-bottom: 10px;\n"]);return Dn=function(){return n},n}function Nn(){var n=Object(rn.a)(["\n  list-style: none;\n  margin-top: 20px;\n"]);return Nn=function(){return n},n}var Ln=f.d.ul(Nn()),Wn=f.d.li(Dn()),Mn=function(n){var e=n.handleSignOutFromTraining,t=n.headerLabel,r=n.users;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,t),a.a.createElement(Ln,null,0===r.length?U:r.map((function(n){return a.a.createElement(Wn,{key:n.email},a.a.createElement(Fn,{handleSignOutFromTraining:e,user:n}))}))))},In={value:"boks19",name:"Boks 19:00",capacity:15},Vn=[{value:"initial",name:"Boks 19:00",capacity:15},{value:"initial",name:"Boks 20:00",capacity:15},{value:"initial",name:"Boks 21:00",capacity:15}];function qn(){var n=Object(rn.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n  padding: 0;\n\n  @media (min-width: ",") {\n    margin-top: 0;\n    padding: 0 30px;\n  }\n"]);return qn=function(){return n},n}function Rn(){var n=Object(rn.a)([""]);return Rn=function(){return n},n}function Zn(){var n=Object(rn.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  padding: 0 10px;\n  margin: 30px auto;\n\n  @media (min-width: ",") {\n    max-width: 90vw;\n    flex-direction: row;\n  }\n"]);return Zn=function(){return n},n}var Hn=f.d.section(Zn(),(function(n){return n.theme.mobileBP})),Jn=f.d.div(Rn()),Xn=f.d.div(qn(),(function(n){return n.theme.mobileBP}));function Kn(){var n=Object(rn.a)(["\n  position: absolute;\n  background-color: ",";\n  width: 300px;\n  height: 50px;\n  top: 100px;\n  right: 0;\n  transition: transform 0.5s ease;\n  border: 1px solid black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ",";\n"]);return Kn=function(){return n},n}var Qn=f.d.div(Kn(),(function(n){return n.theme.white}),(function(n){return n.isVisible?"transform: translateX(-20px)":"transform: translateX(100%)"})),Yn=function(n){var e=n.children,t=n.isVisible;return a.a.createElement(Qn,{isVisible:t},e)},_n=function(){var n=Object(r.useState)(new Date),e=Object(s.a)(n,2),t=e[0],i=e[1],c=Object(r.useState)(In),u=Object(s.a)(c,2),d=u[0],m=u[1],f=Object(r.useState)(null),p=Object(s.a)(f,2),b=p[0],h=p[1],v=Object(r.useState)(null),g=Object(s.a)(v,2),x=g[0],j=g[1],w=Object(r.useState)(Vn),O=Object(s.a)(w,2),S=O[0],z=O[1],C=Object(r.useState)([]),P=Object(s.a)(C,2),T=P[0],A=P[1],U=Object(r.useContext)($),B=Object(r.useContext)(nn),F=function(n,e){j(n),setTimeout((function(){j(null)}),e)},D=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.getSignedUsers(d,t);case 2:e=n.sent,A(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){D(),N()}),[d,t,x]),Object(r.useEffect)((function(){var n=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.getTrainings();case 2:e=n.sent,z(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){return n()}}),[]);var N=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.getAvailablePlaces(d,t);case 2:e=n.sent,h(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),L=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.reserveTrainingSpot(B,d,t,T);case 2:e=n.sent,F(e,3e3);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),I=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,U.freeTrainingSpot(d,t,T,B);case 2:e=n.sent,F(e,3e3);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return a.a.createElement(Hn,null,a.a.createElement(Jn,null,a.a.createElement(bn,{selected:t,onChange:function(n){i(n),j(null)},headerLabel:W}),a.a.createElement(On,{headerLabel:M,trainings:S,handleTrainingChange:function(n){var e=S.find((function(e){return e.value===n.target.value}));m(e),j(null)},selectedTraining:d}),a.a.createElement(Pn,{label:y,value:b}),a.a.createElement(Sn,{label:"Zapisz mnie",onClick:L})),a.a.createElement(Xn,null,a.a.createElement(Mn,{headerLabel:"".concat(k," ").concat(function(n){var e=n.find((function(n){return n.value===d.value}));return e?e.name:""}(S)," | ").concat(E(t)),users:T,handleSignOutFromTraining:I})),a.a.createElement(Yn,{isVisible:!!x},x))},Gn=t(132),$n=t.n(Gn),ne=function(n){var e=n.styles;return a.a.createElement("img",{alt:"Fight Kompany",src:$n.a,style:Object(h.a)({display:"block",maxWidth:"100%"},e)})},ee="/rezerwuj";function te(){var n=Object(rn.a)(["\n  padding: 0;\n  margin-top: 30px;\n\n  @media (min-width: ",") {\n    padding: 30px 50px;\n    margin-top: 0;\n  }\n"]);return te=function(){return n},n}function re(){var n=Object(rn.a)([""]);return re=function(){return n},n}function ae(){var n=Object(rn.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 0 10px;\n  margin: 30px auto;\n\n  @media (min-width: ",") {\n    max-width: 90vw;\n    flex-direction: row;\n  }\n"]);return ae=function(){return n},n}function ie(){var n=Object(rn.a)(["\n  text-decoration: none;\n  color: ",";\n"]);return ie=function(){return n},n}var ce=Object(f.d)(d.b)(ie(),(function(n){return n.theme.secondary})),ue=f.d.section(ae(),(function(n){return n.theme.mobileBP})),oe=f.d.div(re()),le=f.d.div(te(),(function(n){return n.theme.mobileBP})),se=new Date,de=function(){var n=Object(r.useState)(se),e=Object(s.a)(n,2),t=e[0],i=e[1],c=Object(r.useState)(In),u=Object(s.a)(c,2),d=u[0],m=u[1],f=Object(r.useState)(null),p=Object(s.a)(f,2),b=p[0],h=p[1],v=Object(r.useState)(Vn),g=Object(s.a)(v,2),x=g[0],j=g[1],w=Object(r.useContext)($),E=Object(r.useContext)(nn);Object(r.useEffect)((function(){var n=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.getTrainings();case 2:e=n.sent,j(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){return n()}}),[]),Object(r.useEffect)((function(){var n=function(){var n=Object(l.a)(o.a.mark((function n(){var e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.getAvailablePlaces(d,t);case 2:e=n.sent,h(e);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){return n()}}),[d,t]);return a.a.createElement(ue,null,a.a.createElement(oe,null,a.a.createElement(ne,null)),a.a.createElement(le,null,a.a.createElement(bn,{selected:t,onChange:function(n){i(n)},headerLabel:W}),a.a.createElement(On,{handleTrainingChange:function(n){var e=x.find((function(e){return e.value===n.target.value}));m(e)},headerLabel:M,selectedTraining:d,trainings:x}),a.a.createElement(Pn,{label:y,value:b}),!E&&a.a.createElement(ce,{to:"/zaloguj"},I)))};function me(){var n=Object(rn.a)([""]);return me=function(){return n},n}function fe(){var n=Object(rn.a)(["\n  padding: 10px;\n  margin: 0 auto;\n  margin-top: 30px;\n\n  @media (min-width: ",") {\n    padding: 0;\n    max-width: 90vw;\n  }\n"]);return fe=function(){return n},n}function pe(){var n=Object(rn.a)(["\n  list-style: none;\n"]);return pe=function(){return n},n}var be=f.d.ul(pe()),he=f.d.section(fe(),(function(n){return n.theme.mobileBP})),ve=(f.d.li(me()),function(){var n=Object(r.useState)([]),e=Object(s.a)(n,2),t=e[0],i=e[1],c=Object(r.useContext)(nn),u=Object(r.useContext)($);return Object(r.useEffect)((function(){(function(){var n=Object(l.a)(o.a.mark((function n(){var e,t,r,a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.getUser(c.uid);case 2:e=n.sent,t=e.assignedTo,r=t.map((function(n){var e=n.split("-"),t=Object(s.a)(e,2),r=t[0];return{name:t[1],date:r}})),a=r.filter((function(n){return n.date>=j()})),i(a);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),a.a.createElement(he,null,a.a.createElement(be,null,0===t.length?Z:t.map((function(n,e){return a.a.createElement("li",{key:e},E(Number(n.date))," ",n.name)}))))}),ge=t(31),xe=t(66),je=function(n){var e=n.initialValues,t=n.onSubmit,r=n.validationSchema,i=n.children;return a.a.createElement(xe.a,{initialValues:e,onSubmit:t,validationSchema:r},(function(){return a.a.createElement(a.a.Fragment,null,i)}))},we=t(91);function Ee(){var n=Object(rn.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Ee=function(){return n},n}function Oe(){var n=Object(rn.a)(["\n  display: block;\n  width: 100%;\n  padding: 5px;\n  background-color: ",";\n  border: 1px solid ",";\n  font-size: ",";\n\n  &:focus {\n    outline: none;\n    border: 2px solid black;\n    padding: 4px;\n  }\n"]);return Oe=function(){return n},n}function ye(){var n=Object(rn.a)(["\n  font-size: ",";\n  margin-bottom: 5px;\n"]);return ye=function(){return n},n}var ke=f.d.label(ye(),(function(n){return n.theme.fontS})),Se=f.d.input(Oe(),(function(n){return n.theme.white}),(function(n){return n.theme.secondary}),(function(n){return n.theme.fontM})),ze=f.d.div(Ee()),Ce=function(n){var e=n.type,t=n.label,r=Object(we.a)(n,["type","label"]);return a.a.createElement(ze,null,a.a.createElement(ke,null,t),a.a.createElement(Se,Object.assign({type:e},r)))},Pe=function(n){var e=n.error;return n.isVisible?a.a.createElement("p",null,e):null};function Te(){var n=Object(rn.a)(["\n  position: relative;\n  width: 100%;\n  margin-bottom: 20px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  & > p:last-child {\n    position: absolute;\n    left: 0;\n    bottom: -15px;\n    font-size: 10px;\n    color: ",";\n  }\n"]);return Te=function(){return n},n}var Ae=f.d.div(Te(),(function(n){return n.theme.primary})),Ue=function(n){var e=n.name,t=n.type,r=n.width,i=void 0===r?"100%":r,c=Object(we.a)(n,["name","type","width"]),u=Object(xe.b)(),o=u.setFieldTouched,l=u.handleChange,s=u.errors,d=u.touched;return a.a.createElement(Ae,{style:{width:i}},a.a.createElement(Ce,Object.assign({name:e,type:t,onBlur:function(){return o(e)},onChange:l(e)},c)),a.a.createElement(Pe,{error:s[e],isVisible:d[e]}))};function Be(){var n=Object(rn.a)(["\n  display: block;\n  background-color: ",";\n  border: none;\n  padding: 10px 15px;\n  color: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Be=function(){return n},n}var Fe=f.d.button(Be(),(function(n){return n.theme.secondary}),(function(n){return n.theme.white}),(function(n){return n.theme.fontM})),De=function(n){var e=n.label,t=n.style,r=Object(xe.b)().handleSubmit;return a.a.createElement(Fe,{type:"submit",onClick:r,style:t},e)};function Ne(){var n=Object(rn.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 30px auto;\n  padding: 0 10px;\n\n  @media (min-width: ",") {\n    padding: 0;\n  }\n"]);return Ne=function(){return n},n}var Le=f.d.section(Ne(),(function(n){return n.theme.mobileBP})),We=function(n){var e=n.children;return a.a.createElement(Le,null,a.a.createElement(ne,{styles:{width:"200px",marginBottom:"30px"}}),e)},Me=ge.a().shape({email:ge.c().required().email().label("Email"),userName:ge.c().required().min(2).label("User name"),password:ge.c().required().min(3).label("Password"),confirmPassword:ge.c().oneOf([ge.b("password"),null],"Passwords must match").required().label("Repeat password")}),Ie=function(n){var e=Object(m.g)(),t=Object(r.useContext)($);return a.a.createElement(We,null,a.a.createElement(je,{initialValues:{email:"",userName:"",password:"",confirmPassword:""},onSubmit:function(n){return function(n){var r=n.email,a=n.password,i=n.userName;t.doCreateUserWithEmailAndPassword(r,a).then(function(){var n=Object(l.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.saveUserToFirestore(r,{strikes:0,assignedTo:[],role:"USER",userName:i});case 2:e.push(ee);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()).catch((function(n){return alert(n.message)}))}(n)},validationSchema:Me},a.a.createElement(Ue,{name:"email",type:"email",label:z}),a.a.createElement(Ue,{name:"userName",type:"text",label:R}),a.a.createElement(Ue,{name:"password",type:"password",label:B}),a.a.createElement(Ue,{name:"confirmPassword",type:"password",label:N}),a.a.createElement(De,{label:D})))};function Ve(){var n=Object(rn.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  margin: 25px auto;\n"]);return Ve=function(){return n},n}function qe(){var n=Object(rn.a)(["\n  display: flex;\n  margin-top: 30px;\n"]);return qe=function(){return n},n}function Re(){var n=Object(rn.a)(["\n  text-decoration: none;\n  font-size: ",";\n  color: ",";\n  margin-left: 5px;\n"]);return Re=function(){return n},n}var Ze=Object(f.d)(d.b)(Re(),(function(n){return n.theme.fontM}),(function(n){return n.theme.primary})),He=f.d.div(qe()),Je=(f.d.div(Ve()),ge.a().shape({email:ge.c().required().email(),password:ge.c().required().min(6)})),Xe={email:"",password:""},Ke=function(){var n=Object(r.useContext)($),e=Object(m.g)();return a.a.createElement(We,null,a.a.createElement(je,{initialValues:Xe,onSubmit:function(t){return function(t){var r=t.email,a=t.password;n.doSignInWithEmailAndPassword(r,a).then((function(){return e.push(ee)})).catch((function(n){return console.log(n)}))}(t)},validationSchema:Je},a.a.createElement(Ue,{name:"email",type:"email",label:z}),a.a.createElement(Ue,{name:"password",type:"password",label:B}),a.a.createElement(De,{label:T})),a.a.createElement(He,null,a.a.createElement("p",null,S),a.a.createElement(Ze,{to:"/zarejestruj"},F)))};function Qe(){var n=Object(rn.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Qe=function(){return n},n}function Ye(){var n=Object(rn.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  & div {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    background: ",";\n    animation: lds-grid 1.2s linear infinite;\n  }\n\n  & div:nth-child(1) {\n    top: 8px;\n    left: 8px;\n    animation-delay: 0s;\n  }\n\n  & div:nth-child(2) {\n    top: 8px;\n    left: 32px;\n    animation-delay: -0.4s;\n  }\n\n  & div:nth-child(3) {\n    top: 8px;\n    left: 56px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(4) {\n    top: 32px;\n    left: 8px;\n    animation-delay: -0.4s;\n  }\n\n  & div:nth-child(5) {\n    top: 32px;\n    left: 32px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(6) {\n    top: 32px;\n    left: 56px;\n    animation-delay: -1.2s;\n  }\n\n  & div:nth-child(7) {\n    top: 56px;\n    left: 8px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(8) {\n    top: 56px;\n    left: 32px;\n    animation-delay: -1.2s;\n  }\n\n  & div:nth-child(9) {\n    top: 56px;\n    left: 56px;\n    animation-delay: -1.6s;\n  }\n\n  @keyframes lds-grid {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n"]);return Ye=function(){return n},n}var _e=f.d.div(Ye(),(function(n){return n.theme.secondary})),Ge=f.d.div(Qe()),$e=function(){return a.a.createElement(Ge,null,a.a.createElement(_e,null,a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))};function nt(){var n=Object(rn.a)(["\n  ",";\n  cursor: pointer;\n"]);return nt=function(){return n},n}function et(){var n=Object(rn.a)(["\n  list-style: none;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 400px;\n  margin: 0;\n\n  @media (min-width: ",") {\n    justify-content: flex-end;\n    max-width: 100%;\n  }\n"]);return et=function(){return n},n}function tt(){var n=Object(rn.a)(["\n  width: 100%;\n  background-color: ",";\n  border-bottom: 2px solid ",";\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 20px 10px;\n"]);return tt=function(){return n},n}function rt(){var n=Object(rn.a)(["\n  ","\n"]);return rt=function(){return n},n}function at(){var n=Object(rn.a)(["\n  color: ",";\n  font-size: ",";\n  padding: 10px;\n  margin-left: 10px;\n  text-decoration: none;\n\n  &:first-child {\n    margin-left: 0;\n  }\n\n  @media (min-width: ",") {\n    font-size: ",";\n  }\n"]);return at=function(){return n},n}var it,ct=Object(f.c)(at(),(function(n){return n.theme.secondary}),(function(n){return n.theme.fontM}),(function(n){return n.theme.mobileBP}),(function(n){return n.theme.fontL})),ut=Object(f.d)(d.b)(rt(),ct),ot=f.d.nav(tt(),(function(n){return n.theme.white}),(function(n){return n.theme.secondary})),lt=f.d.ul(et(),(function(n){return n.theme.mobileBP})),st=f.d.a(nt(),ct),dt=(it=st,function(n){var e=Object.assign({},n),t=Object(r.useContext)($),i=Object(m.g)();return a.a.createElement(it,Object.assign({onClick:function(){t.doSignOut(),i.push("/")}},e))}),mt=a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(ut,{to:"/"},C)),a.a.createElement("li",null,a.a.createElement(ut,{to:"/zaloguj"},V))),ft=function(){var n,e=Object(r.useState)(null),t=Object(s.a)(e,2),i=t[0],c=t[1],u=Object(r.useContext)($),o=Object(r.useContext)(nn),l=u.auth.currentUser;return Object(r.useEffect)((function(){o&&c(o.role)}),[o]),a.a.createElement(ot,null,a.a.createElement(lt,null,l?(n="ADMIN"===i,a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(ut,{to:ee},L)),a.a.createElement("li",null,a.a.createElement(ut,{to:"/moje-rezerwacje"},A)),n?a.a.createElement("li",null,a.a.createElement(ut,{to:"/admin"},O)):null,a.a.createElement("li",null,a.a.createElement(dt,null,q)))):mt))},pt=function(n){var e=n.children,t=n.path,i=n.isAdmin,c=void 0!==i&&i,u=n.isAdminRoute,o=void 0!==u&&u,l=Object(r.useContext)($).auth.currentUser,s=a.a.createElement(m.b,{path:t},e),d=a.a.createElement(m.a,{to:"/"});return o?c?s:d:l?s:d},bt={fontFamily:"Barlow Semi Condensed",fontFamilyLight:"Barlow Light Condensed",fontFamilySecondary:"Roboto Light Condensed",fontM:"18px",fontS:"16px",fontL:"24px",primary:"#ed1c24",secondary:"#0e0d3e",grey:"#eaeaea",white:"#ffffff",mobileBP:"767px"};function ht(){var n=Object(rn.a)(["\n    *, *::after, *::before {\n        box-sizing: border-box;\n        padding: 0;\n        margin: 0;\n    }\n\n    body {\n        font-family: ",", Open-Sans, Helvetica, Sans-Serif;\n        font-size: ",";\n        color: ",";\n        overflow-x: hidden;\n        padding-bottom: 30px;\n    }\n"]);return ht=function(){return n},n}var vt=Object(f.b)(ht(),bt.fontFamily,bt.fontM,bt.secondary);var gt=function(){var n=Object(r.useState)(!1),e=Object(s.a)(n,2),t=e[0],i=e[1],c=Object(r.useState)(null),u=Object(s.a)(c,2),b=u[0],h=u[1],v=Object(r.useContext)($),g=Object(r.useState)(!1),x=Object(s.a)(g,2),j=x[0],w=x[1];return Object(r.useEffect)((function(){var n=function(){w(!0),v.auth.onAuthStateChanged(function(){var n=Object(l.a)(o.a.mark((function n(e){var t;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=16;break}return n.prev=1,n.next=4,v.getUser(e.uid);case 4:t=n.sent,h({email:t.email,uid:t.uid,userName:t.userName}),i("ADMIN"===t.role),w(!1),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.log(n.t0),w(!1);case 14:n.next=19;break;case 16:h(null),i(!1),w(!1);case 19:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}())};return n(),function(){n()}}),[]),a.a.createElement(f.a,{theme:bt},a.a.createElement(vt,null),j?a.a.createElement($e,null):a.a.createElement(nn.Provider,{value:b},a.a.createElement(d.a,{basename:"/"},a.a.createElement(ft,null),a.a.createElement(m.d,null,a.a.createElement(m.b,{exact:!0,path:"/"},a.a.createElement(de,null)),a.a.createElement(m.b,{path:"/zarejestruj"},a.a.createElement(Ie,null)),a.a.createElement(m.b,{path:"/zaloguj"},a.a.createElement(Ke,null)),a.a.createElement(pt,{path:ee},a.a.createElement(_n,null)),a.a.createElement(pt,{path:"/moje-rezerwacje"},a.a.createElement(ve,null)),a.a.createElement(pt,{path:"/admin",isAdmin:t,isAdminRoute:!0},a.a.createElement(p,null))))))};c.a.render(a.a.createElement($.Provider,{value:new function n(){var e=this;Object(v.a)(this,n),this.saveUserToFirestore=function(){var n=Object(l.a)(o.a.mark((function n(t,r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,e.db.doc("users/".concat(t.user.uid)).set(Object(h.a)({uid:t.user.uid,email:t.user.email},r));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[2,7]])})));return function(e,t){return n.apply(this,arguments)}}(),this.getUser=function(){var n=Object(l.a)(o.a.mark((function n(t){var r,a,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.db.doc("users/".concat(t)),n.prev=1,n.next=4,a.get();case 4:(i=n.sent).exists?r=i.data():console.log("There is no users with given id",t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),console.log("Error getting user",t);case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e){return n.apply(this,arguments)}}(),this.getSignedUsers=function(){var n=Object(l.a)(o.a.mark((function n(t,r){var a,i,c,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",[]);case 2:return a=[],i=E(r),c=e.db.doc("".concat(t.value,"/").concat(i)),n.prev=5,n.next=8,c.get();case 8:(u=n.sent).exists?a=u.data().users:console.log("No such document! ".concat(t.value,"/").concat(i)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log("Error getting document! - ".concat(t.value,"/").concat(i),n.t0);case 15:return n.abrupt("return",a);case 16:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e,t){return n.apply(this,arguments)}}(),this.getAvailablePlaces=function(){var n=Object(l.a)(o.a.mark((function n(t,r){var a,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",K);case 2:return a=t?t.capacity:15,n.next=5,e.getSignedUsers(t,r);case 5:return i=n.sent,n.abrupt("return",a-i.length);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),this.reserveTrainingSpot=function(){var n=Object(l.a)(o.a.mark((function n(t,r,a,i){var c,u,l,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&t&&a&&i){n.next=2;break}return n.abrupt("return",Q);case 2:if(c=E(a),!!!i.find((function(n){return n.email===t.email}))){n.next=6;break}return n.abrupt("return",H);case 6:if(15!==i.length){n.next=8;break}return n.abrupt("return",X);case 8:return n.next=10,e.getUser(t.uid);case 10:return u=n.sent,l=[].concat(Object(b.a)(u.assignedTo),["".concat(w(new Date(a).getTime()),"-").concat(r.name)]).sort(),s=Object(h.a)(Object(h.a)({},u),{},{assignedTo:l}),n.prev=13,n.next=16,e.db.doc("".concat(r.value,"/").concat(c)).set({users:[].concat(Object(b.a)(i),[s])});case 16:return n.next=18,e.updateUser(s.uid,s);case 18:return n.abrupt("return",Y);case 21:return n.prev=21,n.t0=n.catch(13),console.log("Error saving data",n.t0),n.abrupt("return",J);case 25:case"end":return n.stop()}}),n,null,[[13,21]])})));return function(e,t,r,a){return n.apply(this,arguments)}}(),this.updateUser=function(){var n=Object(l.a)(o.a.mark((function n(t,r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e.db.doc("users/".concat(t)).set(r)}catch(a){console.log("Couldn't update user",t,a)}case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),this.freeTrainingSpot=function(){var n=Object(l.a)(o.a.mark((function n(t,r,a,i){var c,u,l,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&r&&a&&i.email){n.next=2;break}return n.abrupt("return",Q);case 2:return c=a.filter((function(n){return n.uid!==i.uid})),n.next=5,e.getUser(i.uid);case 5:return u=n.sent,l=u.assignedTo.filter((function(n){return n!=="".concat(w(new Date(r).getTime()),"-").concat(t.name)})),s=Object(h.a)(Object(h.a)({},i),{},{assignedTo:l}),n.prev=8,n.next=11,e.db.doc("".concat(t.value,"/").concat(E(r))).set({users:c});case 11:return n.next=13,e.updateUser(u.uid,s);case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(8),console.log("Error saving data",n.t0),n.abrupt("return",J);case 19:return n.abrupt("return",_);case 20:case"end":return n.stop()}}),n,null,[[8,15]])})));return function(e,t,r,a){return n.apply(this,arguments)}}(),this.getTrainings=Object(l.a)(o.a.mark((function n(){var t,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.db.collection("trainings").get();case 2:return t=n.sent,r=t.docs.map((function(n){return n.data()})),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)}))),this.doCreateUserWithEmailAndPassword=function(n,t){return e.auth.createUserWithEmailAndPassword(n,t)},this.doSignInWithEmailAndPassword=function(n,t){return e.auth.signInWithEmailAndPassword(n,t)},this.doSignOut=function(){return e.auth.signOut()},this.doPasswordReset=function(n){return e.auth.sendPasswordResetEmail(n)},this.doPasswordUpdate=function(n){return e.auth.currentUser.updatePassword(n)},x.a.initializeApp(G),this.auth=x.a.auth(),this.db=x.a.firestore()}},a.a.createElement(gt,null)),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.7acc89f3.chunk.js.map
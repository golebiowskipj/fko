(this.webpackJsonpfko=this.webpackJsonpfko||[]).push([[0],{132:function(e,n,t){e.exports=t.p+"static/media/logo.fc566f5e.png"},136:function(e,n,t){e.exports=t(213)},213:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(71),c=t.n(i),u=t(23),o=t(12),l=t(4),s=function(){return a.a.createElement("div",null,"admin page")},d=t(7),m=t.n(d),f=t(9),p=t(14),b=t(129),h=t.n(b),v=(t(142),t(5));function g(){var e=Object(v.a)(["\n  background: transparent;\n  border: 1px solid ",";\n  border-radius: 3px;\n  padding: 5px 10px;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n    border-width: 2px;\n    padding: 4px 9px;\n  }\n\n  ","\n"]);return g=function(){return e},e}function x(){var e=Object(v.a)(["\n  background: ",";\n  color: ",";\n"]);return x=function(){return e},e}var j=Object(l.c)(x(),(function(e){return e.theme.secondary}),(function(e){return e.theme.white})),w=l.d.button(g(),(function(e){return e.theme.secondary}),(function(e){return e.isActive?j:null}));function E(){var e=Object(v.a)(["\n  font-size: ",";\n  font-family: ",";\n  margin-bottom: 10px;\n"]);return E=function(){return e},e}var O=l.d.h2(E(),(function(e){return e.theme.fontL}),(function(e){return e.theme.fontFamilySecondary})),y=function(e){var n=e.children,t=e.styles;return a.a.createElement(O,{style:t},n)},k=a.a.createContext(null),S=t(114),z=t(47),C=t(128),T=t(97),D=t.n(T),A=(t(146),t(147),function(e,n){return{status:e,message:n}}),P=function(e){var n=new Date(e),t=n.getDate(),r=n.getMonth()+1,a=n.getFullYear();return"".concat(t,"-").concat(r,"-").concat(a)},F=function(e,n){return new Date(e).setHours(n.startsAt)},N=function(){return(new Date).setHours(0,0,0,0)},U=function(e){return{assignedTo:e.assignedTo,email:e.email,uid:e.uid,userName:e.userName}},B="Panel",W="Dost\u0119pne miejsca: ",L="Zapisani na",R="Nie masz konta?",M="Email",V="Strona g\u0142\xf3wna",q="Wypisz si\u0119",I="Zaloguj",Z="Moje rezerwacje",H="Nikt si\u0119 jeszcze nie zapisa\u0142",J="Tego dnia nie ma trening\xf3w",X="Has\u0142o",Y="Zarejestruj si\u0119.",K="Zarejestruj",Q="Powt\xf3rz has\u0142o",_="Rezerwuj",G="Wybierz dzie\u0144",$="Wybierz trening",ee="Zaloguj si\u0119, \u017ceby zarezerwowa\u0107 miejsce",ne="Zaloguj si\u0119",te="Wyloguj",re="Nazwa u\u017cytkownika",ae="Nie masz zarezerwowanych trening\xf3w",ie="Jeste\u015b ju\u017c zapisany/a na ten trening",ce="Nie uda\u0142o si\u0119\xa0wypisa\u0107 z treningu",ue="Nie uda\u0142o si\u0119 zapisa\u0107 na ten trening",oe="Nie ma ju\u017c wolnych miejsc na tym treningu",le="Has\u0142o musi mie\u0107 > 6 znak\xf3w",se="Wybierz trening",de="Co\u015b posz\u0142o nie tak",me="Zapisano na trening",fe="Wypisano z treningu",pe="Taki u\u017cytkownik nie istnieje",be="Podany email ju\u017c istnieje",he="Wpisane has\u0142o jest nieprawid\u0142owe",ve="To pole jest wymagane",ge="Wpisz poprawny email",xe="musi mie\u0107 minimum",je="znak\xf3w",we="Has\u0142a musz\u0105 pasowa\u0107",Ee={apiKey:"AIzaSyDq3S8XrmtlpDdvOxFF8EAP696qWlZ_qzQ",authDomain:"fight-kompany.firebaseapp.com",databaseURL:"https://fight-kompany.firebaseio.com",projectId:"fight-kompany",storageBucket:"fight-kompany.appspot.com",messagingSenderId:"1076372164072"},Oe=a.a.createContext(null),ye={value:"boks19",name:"Boks 19:00",capacity:15,startsAt:19,occure:[1,2,3,4,5]},ke=N(),Se=function(e){var n=e.children,t=Object(r.useContext)(Oe),i=Object(r.useState)(15),c=Object(p.a)(i,2),u=c[0],o=c[1],l=Object(r.useState)([]),s=Object(p.a)(l,2),d=s[0],b=s[1],h=Object(r.useState)(!1),v=Object(p.a)(h,2),g=v[0],x=v[1],j=Object(r.useState)(!1),w=Object(p.a)(j,2),E=w[0],O=w[1],y=Object(r.useState)(ye),S=Object(p.a)(y,2),z=S[0],C=S[1],T=Object(r.useState)(ke),D=Object(p.a)(T,2),A=D[0],P=D[1],F=Object(r.useState)([]),N=Object(p.a)(F,2),B=N[0],W=N[1],L=Object(r.useState)(null),R=Object(p.a)(L,2),M=R[0],V=R[1];Object(r.useEffect)((function(){var e=!1;return function(){var n=Object(f.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return O(!0),n.next=3,t.getTrainings();case 3:r=n.sent,e||(W(r.sort((function(e,n){return e.startsAt-n.startsAt}))),O(!1));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!0}}),[]),Object(r.useEffect)((function(){O(!0),t.auth.onAuthStateChanged(function(){var e=Object(f.a)(m.a.mark((function e(n){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=16;break}return e.prev=1,e.next=4,t.getUser(n.uid);case 4:r=e.sent,V(U(r)),x("ADMIN"===r.role),O(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),O(!1);case 14:e.next=19;break;case 16:V(null),x(!1),O(!1);case 19:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}())}),[]),Object(r.useEffect)((function(){var e=!1;return function(){var n=Object(f.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getAvailableSpots(A,z);case 2:r=n.sent,e||o(r);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!0}}),[A,z,M]),Object(r.useEffect)((function(){var e=!1,n=B.filter((function(e){return q(e,new Date(A).getDay())}));return e||b(n),function(){e=!0}}),[B,A]);var q=function(e,n){return e.occure.indexOf(n)>-1},I=function(){var e=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getUser(M.uid);case 2:n=e.sent,V(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(k.Provider,{value:{availableSpots:u,isLoading:E,isAdmin:g,handleSelectDate:function(e){return P(function(e){return e.setHours(0,0,0,0)}(e))},handleSelectTraining:function(e){return C(e)},refreshUserData:I,selectedDate:A,selectedTraining:z,trainings:d,userData:M}},n)};function ze(){var e=Object(v.a)(["\n  margin-bottom: 15px;\n"]);return ze=function(){return e},e}var Ce=l.d.div(ze()),Te=function(e){var n=e.onClick,t=e.value;return a.a.createElement(w,{onClick:n},t)},De=N(),Ae=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;return new Date(n).setHours(0,0,0,0)+24*e*60*60*1e3}(7),Pe=function(e){var n=e.headerLabel,t=Object(r.useContext)(k),i=t.handleSelectDate,c=t.selectedDate;return a.a.createElement(Ce,null,a.a.createElement(y,null,n),a.a.createElement(h.a,{dateFormat:"dd/MM/yyyy",selected:c,onChange:function(e){return i(e)},minDate:De,maxDate:Ae,customInput:a.a.createElement(Te,null)}))};function Fe(){var e=Object(v.a)(["\n  position: absolute;\n  background-color: ",";\n  width: 300px;\n  height: 50px;\n  top: 50%;\n  right: 0;\n  transition: transform 0.5s ease;\n  border: 1px solid black;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ",";\n"]);return Fe=function(){return e},e}var Ne=l.d.div(Fe(),(function(e){return e.theme.white}),(function(e){return e.isVisible?"transform: translateX(-20px) translateY(50%)":"transform: translateX(100%) translateY(50%)"})),Ue=function(e){var n=e.children,t=e.isVisible;return a.a.createElement(Ne,{isVisible:t},n)},Be=function(e){var n=e.isActive,t=void 0!==n&&n,r=e.onClick,i=e.trainingName;return a.a.createElement(w,{isActive:t,onClick:r},i)};function We(){var e=Object(v.a)(["\n  margin-right: 10px;\n  margin-top: 10px;\n\n  &:first-child {\n    margin-top: 0;\n  }\n\n  &:last-child {\n    margin-right: 0;\n  }\n\n  @media (min-width: ",") {\n    margin-top: 0;\n  }\n"]);return We=function(){return e},e}function Le(){var e=Object(v.a)(["\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n\n  @media (min-width: ",") {\n    flex-direction: row;\n  }\n"]);return Le=function(){return e},e}function Re(){var e=Object(v.a)(["\n  margin-bottom: 15px;\n"]);return Re=function(){return e},e}var Me=l.d.div(Re()),Ve=l.d.ul(Le(),(function(e){return e.theme.mobileBP})),qe=l.d.li(We(),(function(e){return e.theme.mobileBP})),Ie=function(e){var n=e.headerLabel,t=Object(r.useContext)(k),i=t.trainings,c=t.handleSelectTraining,u=t.selectedTraining;return a.a.createElement(Me,null,a.a.createElement(y,null,n),a.a.createElement(Ve,null,0===i.length?J:i.map((function(e){return a.a.createElement(qe,{key:e.name},a.a.createElement(Be,{isActive:u.value===e.value,trainingName:e.name,onClick:function(){return c(e)}}))}))))};function Ze(){var e=Object(v.a)(["\n  background-color: ",";\n  color: ",";\n  border: none;\n  padding: 5px 10px;\n  border-radius: 3px;\n  cursor: pointer;\n\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  }\n"]);return Ze=function(){return e},e}var He=l.d.button(Ze(),(function(e){return e.theme.primary}),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Je=function(e){var n=e.label,t=e.onClick;return a.a.createElement(He,{onClick:t},n)};function Xe(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return Xe=function(){return e},e}var Ye=l.d.div(Xe()),Ke=function(e){var n=e.label,t=Object(r.useContext)(k),i=t.availableSpots;return 0!==t.trainings.length&&a.a.createElement(Ye,null,a.a.createElement("span",null,n),a.a.createElement("span",null,i))};function Qe(){var e=Object(v.a)(["\n  background-color: ",";\n  border: 1px solid ",";\n  color: ",";\n  padding: 5px;\n  margin-left: 10px;\n\n  cursor: pointer;\n"]);return Qe=function(){return e},e}function _e(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]);return _e=function(){return e},e}var Ge=l.d.div(_e()),$e=l.d.button(Qe(),(function(e){return e.theme.white}),(function(e){return e.theme.secondary}),(function(e){return e.theme.secondary})),en=function(e){var n=e.handleSignOutFromTraining,t=e.user,i=Object(r.useContext)(k).userData;return a.a.createElement(Ge,null,t.userName,i&&t.uid===i.uid?a.a.createElement($e,{onClick:n},q):null)};function nn(){var e=Object(v.a)(["\n  margin-bottom: 10px;\n"]);return nn=function(){return e},e}function tn(){var e=Object(v.a)(["\n  list-style: none;\n  margin-top: 20px;\n"]);return tn=function(){return e},e}var rn=l.d.ul(tn()),an=l.d.li(nn()),cn=function(e){var n=e.handleSignOutFromTraining,t=Object(r.useState)([]),i=Object(p.a)(t,2),c=i[0],u=i[1],o=Object(r.useContext)(Oe),l=Object(r.useContext)(k),s=l.selectedDate,d=l.selectedTraining,b=l.userData;return Object(r.useEffect)((function(){var e=!1;return function(){var n=Object(f.a)(m.a.mark((function n(){var t,r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=F(s,d),n.next=3,o.getReservations(t,d.value);case 3:r=n.sent,e||u(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e=!0}}),[s,d,b]),a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,L," ",d.name," "," | ",P(s)),a.a.createElement(rn,null,0===c.length?H:c.map((function(e){return a.a.createElement(an,{key:e.email},a.a.createElement(en,{handleSignOutFromTraining:n,user:e}))}))))};function un(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 30px;\n  padding: 0;\n\n  @media (min-width: ",") {\n    margin-top: 0;\n    padding: 0 30px;\n  }\n"]);return un=function(){return e},e}function on(){var e=Object(v.a)([""]);return on=function(){return e},e}function ln(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: nowrap;\n  padding: 0 10px;\n  margin: 30px auto;\n\n  @media (min-width: ",") {\n    max-width: 90vw;\n    flex-direction: row;\n  }\n"]);return ln=function(){return e},e}var sn=l.d.section(ln(),(function(e){return e.theme.mobileBP})),dn=l.d.div(on()),mn=l.d.div(un(),(function(e){return e.theme.mobileBP})),fn=function(){var e=Object(r.useState)(null),n=Object(p.a)(e,2),t=n[0],i=n[1],c=Object(r.useContext)(Oe),u=Object(r.useContext)(k),o=u.refreshUserData,l=u.selectedDate,s=u.selectedTraining,d=u.userData,b=function(e,n){i(e),setTimeout((function(){i(null)}),n)},h=function(){var e=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.reserveTrainingSpot(l,s,d);case 2:n=e.sent,o(),b(n.message,3e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(f.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.freeTrainingSpot(l,s,d);case 2:n=e.sent,o(),b(n.message,3e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(sn,null,a.a.createElement(dn,null,a.a.createElement(Pe,{headerLabel:G}),a.a.createElement(Ie,{headerLabel:$}),a.a.createElement(Ke,{label:W}),a.a.createElement(Je,{label:"Zapisz mnie",onClick:h})),a.a.createElement(mn,null,a.a.createElement(cn,{handleSignOutFromTraining:v})),a.a.createElement(Ue,{isVisible:!!t},t))},pn=t(132),bn=t.n(pn),hn=function(e){var n=e.styles;return a.a.createElement("img",{alt:"Fight Kompany",src:bn.a,style:Object(z.a)({display:"block",maxWidth:"100%"},n)})},vn="/rezerwuj";function gn(){var e=Object(v.a)(["\n  padding: 0;\n  margin-top: 30px;\n\n  @media (min-width: ",") {\n    padding: 30px 50px;\n    margin-top: 0;\n  }\n"]);return gn=function(){return e},e}function xn(){var e=Object(v.a)([""]);return xn=function(){return e},e}function jn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 0 10px;\n  margin: 30px auto;\n\n  @media (min-width: ",") {\n    max-width: 90vw;\n    flex-direction: row;\n  }\n"]);return jn=function(){return e},e}function wn(){var e=Object(v.a)(["\n  text-decoration: none;\n  color: ",";\n"]);return wn=function(){return e},e}var En=Object(l.d)(u.b)(wn(),(function(e){return e.theme.secondary})),On=l.d.section(jn(),(function(e){return e.theme.mobileBP})),yn=l.d.div(xn()),kn=l.d.div(gn(),(function(e){return e.theme.mobileBP})),Sn=function(){var e=Object(r.useContext)(k).userData;return a.a.createElement(On,null,a.a.createElement(yn,null,a.a.createElement(hn,null)),a.a.createElement(kn,null,a.a.createElement(Pe,{headerLabel:G}),a.a.createElement(Ie,{headerLabel:$}),a.a.createElement(Ke,{label:W}),!e&&a.a.createElement(En,{to:"/zaloguj"},ee)))};function zn(){var e=Object(v.a)([""]);return zn=function(){return e},e}function Cn(){var e=Object(v.a)(["\n  padding: 10px;\n  margin: 0 auto;\n  margin-top: 30px;\n\n  @media (min-width: ",") {\n    padding: 0;\n    max-width: 90vw;\n  }\n"]);return Cn=function(){return e},e}function Tn(){var e=Object(v.a)(["\n  list-style: none;\n"]);return Tn=function(){return e},e}var Dn=l.d.ul(Tn()),An=l.d.section(Cn(),(function(e){return e.theme.mobileBP})),Pn=(l.d.li(zn()),function(){var e=Object(r.useState)([]),n=Object(p.a)(e,2),t=n[0],i=n[1],c=Object(r.useContext)(k).userData,u=Object(r.useContext)(Oe);return Object(r.useEffect)((function(){(function(){var e=Object(f.a)(m.a.mark((function e(){var n,t,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getUser(c.uid);case 2:n=e.sent,t=n.assignedTo,r=t.map((function(e){var n=e.split("-"),t=Object(p.a)(n,2),r=t[0];return{name:t[1],date:r}})),a=r.filter((function(e){return e.date>=N()})),i(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a.a.createElement(An,null,a.a.createElement(Dn,null,0===t.length?ae:t.map((function(e,n){return a.a.createElement("li",{key:n},P(Number(e.date))," ",e.name)}))))}),Fn=t(22),Nn=t(66),Un=function(e){var n=e.initialValues,t=e.onSubmit,r=e.validationSchema,i=e.children;return a.a.createElement(Nn.a,{initialValues:n,onSubmit:t,validationSchema:r},(function(){return a.a.createElement(a.a.Fragment,null,i)}))},Bn=t(91);function Wn(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return Wn=function(){return e},e}function Ln(){var e=Object(v.a)(["\n  display: block;\n  width: 100%;\n  padding: 5px;\n  background-color: ",";\n  border: 1px solid ",";\n  font-size: ",";\n\n  &:focus {\n    outline: none;\n    border: 2px solid black;\n    padding: 4px;\n  }\n"]);return Ln=function(){return e},e}function Rn(){var e=Object(v.a)(["\n  font-size: ",";\n  margin-bottom: 5px;\n"]);return Rn=function(){return e},e}var Mn=l.d.label(Rn(),(function(e){return e.theme.fontS})),Vn=l.d.input(Ln(),(function(e){return e.theme.white}),(function(e){return e.theme.secondary}),(function(e){return e.theme.fontM})),qn=l.d.div(Wn()),In=function(e){var n=e.type,t=e.label,r=Object(Bn.a)(e,["type","label"]);return a.a.createElement(qn,null,a.a.createElement(Mn,null,t),a.a.createElement(Vn,Object.assign({type:n},r)))},Zn=function(e){var n=e.error;return e.isVisible?a.a.createElement("p",null,n):null};function Hn(){var e=Object(v.a)(["\n  position: relative;\n  width: 100%;\n  margin-bottom: 20px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  & > p:last-child {\n    position: absolute;\n    left: 0;\n    bottom: -15px;\n    font-size: 10px;\n    color: ",";\n  }\n"]);return Hn=function(){return e},e}var Jn=l.d.div(Hn(),(function(e){return e.theme.primary})),Xn=function(e){var n=e.name,t=e.type,r=e.width,i=void 0===r?"100%":r,c=Object(Bn.a)(e,["name","type","width"]),u=Object(Nn.b)(),o=u.setFieldTouched,l=u.handleChange,s=u.errors,d=u.touched;return a.a.createElement(Jn,{style:{width:i}},a.a.createElement(In,Object.assign({name:n,type:t,onBlur:function(){return o(n)},onChange:l(n)},c)),a.a.createElement(Zn,{error:s[n],isVisible:d[n]}))};function Yn(){var e=Object(v.a)(["\n  display: block;\n  background-color: ",";\n  border: none;\n  padding: 10px 15px;\n  color: ",";\n  font-size: ",";\n  text-transform: uppercase;\n  cursor: pointer;\n\n  &:focus {\n    outline: none;\n  }\n"]);return Yn=function(){return e},e}var Kn=l.d.button(Yn(),(function(e){return e.theme.secondary}),(function(e){return e.theme.white}),(function(e){return e.theme.fontM})),Qn=function(e){var n=e.label,t=e.style,r=Object(Nn.b)().handleSubmit;return a.a.createElement(Kn,{type:"submit",onClick:r,style:t},n)};function _n(){var e=Object(v.a)(["\n  width: 100%;\n  max-width: 320px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 30px auto;\n  padding: 0 10px;\n\n  @media (min-width: ",") {\n    padding: 0;\n  }\n"]);return _n=function(){return e},e}var Gn=l.d.section(_n(),(function(e){return e.theme.mobileBP})),$n=function(e){var n=e.children;return a.a.createElement(Gn,null,a.a.createElement(hn,{styles:{width:"200px",marginBottom:"30px"}}),n)};Fn.c({mixed:{required:ve},string:{email:ge,min:function(e){return"".concat(e.label," ").concat(xe," ").concat(e.min," ").concat(je)}}});var et=Fn.a().shape({email:Fn.d().required().email().label(M),userName:Fn.d().required().min(6).label(re),password:Fn.d().required().min(6).label(X),confirmPassword:Fn.d().oneOf([Fn.b("password"),null],we).required().label(Q)}),nt={email:"",userName:"",password:"",confirmPassword:""},tt=function(){var e=Object(r.useState)(null),n=Object(p.a)(e,2),t=n[0],i=n[1],c=Object(o.g)(),u=Object(r.useContext)(Oe),l=function(e,n){i(e),setTimeout((function(){i(null)}),n)};return a.a.createElement($n,null,a.a.createElement(Un,{initialValues:nt,onSubmit:function(e){return function(e){var n=e.email,t=e.password,r=e.userName;u.doCreateUserWithEmailAndPassword(n,t).then(function(){var e=Object(f.a)(m.a.mark((function e(n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.saveUserToFirestore(n,{strikes:0,assignedTo:[],role:"USER",userName:r});case 2:c.push(vn);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){"auth/email-already-in-use"===e.code?l(be,3e3):"auth/weak-password"===e.code&&l(le,3e3),console.log(e)}))}(e)},validationSchema:et},a.a.createElement(Xn,{name:"email",type:"email",label:M}),a.a.createElement(Xn,{name:"userName",type:"text",label:re}),a.a.createElement(Xn,{name:"password",type:"password",label:X}),a.a.createElement(Xn,{name:"confirmPassword",type:"password",label:Q}),a.a.createElement(Qn,{label:K})),a.a.createElement(Ue,{isVisible:!!t},t))};function rt(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  max-width: 400px;\n  margin: 25px auto;\n"]);return rt=function(){return e},e}function at(){var e=Object(v.a)(["\n  display: flex;\n  margin-top: 30px;\n"]);return at=function(){return e},e}function it(){var e=Object(v.a)(["\n  text-decoration: none;\n  font-size: ",";\n  color: ",";\n  margin-left: 5px;\n"]);return it=function(){return e},e}var ct=Object(l.d)(u.b)(it(),(function(e){return e.theme.fontM}),(function(e){return e.theme.primary})),ut=l.d.div(at());l.d.div(rt());Fn.c({mixed:{required:ve},string:{email:ge,min:function(e){return"".concat(e.label," ").concat(xe," ").concat(e.min," ").concat(je)}}});var ot=Fn.a().shape({email:Fn.d().required().email().label(M),password:Fn.d().required().min(6).label(X)}),lt={email:"",password:""},st=function(){var e=Object(r.useState)(null),n=Object(p.a)(e,2),t=n[0],i=n[1],c=Object(r.useContext)(Oe),u=Object(o.g)(),l=function(e,n){i(e),setTimeout((function(){i(null)}),n)};return a.a.createElement($n,null,a.a.createElement(Un,{initialValues:lt,onSubmit:function(e){return function(e){var n=e.email,t=e.password;c.doSignInWithEmailAndPassword(n,t).then((function(){return u.push(vn)})).catch((function(e){"auth/user-not-found"===e.code?l(pe,3e3):"auth/wrong-password"===e.code&&l(he,3e3),console.log(e)}))}(e)},validationSchema:ot},a.a.createElement(Xn,{name:"email",type:"email",label:M}),a.a.createElement(Xn,{name:"password",type:"password",label:X}),a.a.createElement(Qn,{label:I})),a.a.createElement(ut,null,a.a.createElement("p",null,R),a.a.createElement(ct,{to:"/zarejestruj"},Y)),a.a.createElement(Ue,{isVisible:!!t},t))};function dt(){var e=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return dt=function(){return e},e}function mt(){var e=Object(v.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n\n  & div {\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    border-radius: 50%;\n    background: ",";\n    animation: lds-grid 1.2s linear infinite;\n  }\n\n  & div:nth-child(1) {\n    top: 8px;\n    left: 8px;\n    animation-delay: 0s;\n  }\n\n  & div:nth-child(2) {\n    top: 8px;\n    left: 32px;\n    animation-delay: -0.4s;\n  }\n\n  & div:nth-child(3) {\n    top: 8px;\n    left: 56px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(4) {\n    top: 32px;\n    left: 8px;\n    animation-delay: -0.4s;\n  }\n\n  & div:nth-child(5) {\n    top: 32px;\n    left: 32px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(6) {\n    top: 32px;\n    left: 56px;\n    animation-delay: -1.2s;\n  }\n\n  & div:nth-child(7) {\n    top: 56px;\n    left: 8px;\n    animation-delay: -0.8s;\n  }\n\n  & div:nth-child(8) {\n    top: 56px;\n    left: 32px;\n    animation-delay: -1.2s;\n  }\n\n  & div:nth-child(9) {\n    top: 56px;\n    left: 56px;\n    animation-delay: -1.6s;\n  }\n\n  @keyframes lds-grid {\n    0%,\n    100% {\n      opacity: 1;\n    }\n    50% {\n      opacity: 0.5;\n    }\n  }\n"]);return mt=function(){return e},e}var ft=l.d.div(mt(),(function(e){return e.theme.secondary})),pt=l.d.div(dt()),bt=function(){return a.a.createElement(pt,null,a.a.createElement(ft,null,a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null)))};function ht(){var e=Object(v.a)(["\n  ",";\n  cursor: pointer;\n"]);return ht=function(){return e},e}function vt(){var e=Object(v.a)(["\n  list-style: none;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  max-width: 400px;\n  margin: 0;\n\n  @media (min-width: ",") {\n    justify-content: flex-end;\n    max-width: 100%;\n  }\n"]);return vt=function(){return e},e}function gt(){var e=Object(v.a)(["\n  width: 100%;\n  background-color: ",";\n  border-bottom: 2px solid ",";\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  padding: 20px 10px;\n"]);return gt=function(){return e},e}function xt(){var e=Object(v.a)(["\n  ","\n"]);return xt=function(){return e},e}function jt(){var e=Object(v.a)(["\n  color: ",";\n  font-size: ",";\n  padding: 10px;\n  margin-left: 10px;\n  text-decoration: none;\n\n  &:first-child {\n    margin-left: 0;\n  }\n\n  @media (min-width: ",") {\n    font-size: ",";\n  }\n"]);return jt=function(){return e},e}var wt,Et=Object(l.c)(jt(),(function(e){return e.theme.secondary}),(function(e){return e.theme.fontM}),(function(e){return e.theme.mobileBP}),(function(e){return e.theme.fontL})),Ot=Object(l.d)(u.b)(xt(),Et),yt=l.d.nav(gt(),(function(e){return e.theme.white}),(function(e){return e.theme.secondary})),kt=l.d.ul(vt(),(function(e){return e.theme.mobileBP})),St=l.d.a(ht(),Et),zt=(wt=St,function(e){var n=Object.assign({},e),t=Object(r.useContext)(Oe),i=Object(o.g)();return a.a.createElement(wt,Object.assign({onClick:function(){t.doSignOut(),i.push("/")}},n))}),Ct=a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(Ot,{to:"/"},V)),a.a.createElement("li",null,a.a.createElement(Ot,{to:"/zaloguj"},ne))),Tt=function(e){var n=e.isAdmin,t=Object(r.useContext)(k).userData;return a.a.createElement(yt,null,a.a.createElement(kt,null,t?function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(Ot,{to:vn},_)),a.a.createElement("li",null,a.a.createElement(Ot,{to:"/moje-rezerwacje"},Z)),e?a.a.createElement("li",null,a.a.createElement(Ot,{to:"/admin"},B)):null,a.a.createElement("li",null,a.a.createElement(zt,null,te)))}("ADMIN"===n):Ct))},Dt=function(e){var n=e.children,t=e.path,i=e.isAdmin,c=void 0!==i&&i,u=e.isAdminRoute,l=void 0!==u&&u,s=Object(r.useContext)(Oe).auth.currentUser,d=a.a.createElement(o.b,{path:t},n),m=a.a.createElement(o.a,{to:"/"});return l?c?d:m:s?d:m},At={fontFamily:"Barlow Semi Condensed",fontFamilyLight:"Barlow Light Condensed",fontFamilySecondary:"Roboto Light Condensed",fontM:"18px",fontS:"16px",fontL:"24px",primary:"#ed1c24",secondary:"#0e0d3e",grey:"#eaeaea",white:"#ffffff",mobileBP:"767px"};function Pt(){var e=Object(v.a)(["\n    *, *::after, *::before {\n        box-sizing: border-box;\n        padding: 0;\n        margin: 0;\n    }\n\n    body {\n        font-family: ",", Open-Sans, Helvetica, Sans-Serif;\n        font-size: ",";\n        color: ",";\n        overflow-x: hidden;\n        padding-bottom: 30px;\n    }\n"]);return Pt=function(){return e},e}var Ft=Object(l.b)(Pt(),At.fontFamily,At.fontM,At.secondary);var Nt=function(){var e=Object(r.useContext)(k),n=e.isLoading,t=e.isAdmin;return a.a.createElement(l.a,{theme:At},a.a.createElement(Ft,null),n?a.a.createElement(bt,null):a.a.createElement(u.a,{basename:"/"},a.a.createElement(Tt,{isAdmin:t}),a.a.createElement(o.d,null,a.a.createElement(o.b,{exact:!0,path:"/"},a.a.createElement(Sn,null)),a.a.createElement(o.b,{path:"/zarejestruj"},a.a.createElement(tt,null)),a.a.createElement(o.b,{path:"/zaloguj"},a.a.createElement(st,null)),a.a.createElement(Dt,{path:vn},a.a.createElement(fn,null)),a.a.createElement(Dt,{path:"/moje-rezerwacje"},a.a.createElement(Pn,null)),a.a.createElement(Dt,{path:"/admin",isAdmin:t,isAdminRoute:!0},a.a.createElement(s,null)))))};c.a.render(a.a.createElement(Oe.Provider,{value:new function e(){var n=this;Object(C.a)(this,e),this.getAvailableSpots=function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",se);case 2:return a=F(t,r),e.next=5,n.getReservations(a,r.value);case 5:return i=e.sent,e.abrupt("return",r.capacity-i.length);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.getReservations=function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return a=[],i=n.db.doc("".concat(r,"/").concat(t)),e.prev=4,e.next=7,i.get();case 7:(c=e.sent).exists?a=c.data().reservations:console.log("No such document! ".concat(r,"/").concat(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("Error getting document! - ".concat(r,"/").concat(t),e.t0);case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(n,t){return e.apply(this,arguments)}}(),this.getTrainings=Object(f.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.db.collection("trainings").get();case 3:return t=e.sent,r=t.docs.map((function(e){return e.data()})),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),console.log("Error getting trainings",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.getUser=function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.db.doc("users/".concat(t)),e.prev=1,e.next=4,a.get();case 4:(i=e.sent).exists?r=i.data():console.log("There is no users with given id",t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error getting user",t);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),this.reserveTrainingSpot=function(){var e=Object(f.a)(m.a.mark((function e(t,r,a){var i,c,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r&&a){e.next=2;break}return e.abrupt("return",A(400,de));case 2:return i=F(t,r),e.next=5,n.getReservations(i,r.value);case 5:if(c=e.sent,!!!c.find((function(e){return e.uid===a.uid}))){e.next=9;break}return e.abrupt("return",A(204,ie));case 9:if(c.length!==r.capacity){e.next=11;break}return e.abrupt("return",A(204,oe));case 11:return u=Object(z.a)(Object(z.a)({},a),{},{assignedTo:[].concat(Object(S.a)(a.assignedTo),[i]).sort()}),e.prev=12,e.next=15,n.db.doc("".concat(r.value,"/").concat(i)).set({reservations:[].concat(Object(S.a)(c),[u])});case 15:return e.next=17,n.updateUser(u.uid,u);case 17:return e.abrupt("return",A(200,me));case 20:return e.prev=20,e.t0=e.catch(12),console.log("Error saving data",e.t0),e.abrupt("return",A(500,ue));case 24:case"end":return e.stop()}}),e,null,[[12,20]])})));return function(n,t,r){return e.apply(this,arguments)}}(),this.freeTrainingSpot=function(){var e=Object(f.a)(m.a.mark((function e(t,r,a){var i,c,u,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r&&a){e.next=2;break}return e.abrupt("return",A(400,de));case 2:return i=F(t,r),e.next=5,n.getReservations(i,r.value);case 5:return c=e.sent,u=c.filter((function(e){return e.uid!==a.uid})),o=Object(z.a)(Object(z.a)({},a),{},{assignedTo:a.assignedTo.filter((function(e){return e!==i}))}),e.prev=8,e.next=11,n.db.doc("".concat(r.value,"/").concat(i)).set({reservations:u});case 11:return e.next=13,n.updateUser(o.uid,o);case 13:return e.abrupt("return",A(200,fe));case 16:return e.prev=16,e.t0=e.catch(8),console.log("Error saving data",e.t0),e.abrupt("return",A(500,ce));case 20:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(n,t,r){return e.apply(this,arguments)}}(),this.updateUser=function(){var e=Object(f.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n.db.doc("users/".concat(t)).set(r)}catch(a){console.log("Couldn't update user",t,a)}case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.doCreateUserWithEmailAndPassword=function(e,t){return n.auth.createUserWithEmailAndPassword(e,t)},this.doSignInWithEmailAndPassword=function(e,t){return n.auth.signInWithEmailAndPassword(e,t)},this.doSignOut=function(){return n.auth.signOut()},this.doPasswordReset=function(e){return n.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return n.auth.currentUser.updatePassword(e)},this.saveUserToFirestore=function(){var e=Object(f.a)(m.a.mark((function e(t,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,n.db.doc("users/".concat(t.user.uid)).set(Object(z.a)({uid:t.user.uid,email:t.user.email},r));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(n,t){return e.apply(this,arguments)}}(),D.a.initializeApp(Ee),this.auth=D.a.auth(),this.db=D.a.firestore()}},a.a.createElement(Se,null,a.a.createElement(Nt,null))),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.0524bebf.chunk.js.map